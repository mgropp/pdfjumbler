def mainPackage = "net.sourceforge.pdfjumbler"
def mainClass = "${mainPackage}.PdfJumbler"

apply plugin: "java"
apply plugin: "idea"

compileJava.options.encoding = 'UTF-8'

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

defaultTasks "jar"

repositories {
	mavenCentral()
}

sourceSets {
	main
}

dependencies {
	implementation 'org.tinylog:tinylog-api:2.1.2'
	implementation 'org.tinylog:tinylog-impl:2.1.2'
	implementation 'org.apache.pdfbox:pdfbox:2.0.21'
	implementation 'org.apache.xmlgraphics:batik-transcoder:1.13'
	implementation 'com.formdev:flatlaf:0.41'
}

jar {
	dependsOn classes
	
	archiveFileName = "pdfjumbler.jar"
	
	manifest {
		attributes(
			"Main-Class": mainClass
		)
	}
	
	from sourceSets.main.output

	from {
		configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
	}
	
	exclude "META-INF/*.SF"
	exclude "META-INF/*.DSA"
	exclude "META-INF/*.RSA"
}